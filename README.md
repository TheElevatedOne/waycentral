# waycentral

Waybar Module Executable for Multiple Functions

Some parts of this code has been generated by ChatGPT5 and modified to fit the usecase.

![GitHub License](https://img.shields.io/github/license/TheElevatedOne/waycentral?style=for-the-badge) [![AUR Version](https://img.shields.io/aur/version/waycentral-git?style=for-the-badge&logo=archlinux&label=waycentral-git)](https://aur.archlinux.org/packages/waycentral-git)  [![AUR Version](https://img.shields.io/aur/version/waycentral-bin?style=for-the-badge&logo=archlinux&label=waycentral-bin)](https://aur.archlinux.org/packages/waycentral-bin)

## Sections

- [**Usage**](#usage)
- [**Installation**](#installation)
  - [AUR](#aur)
  - [Release](#release)
  - [Building from Source](#building)
- [**Options**](#options)
  - [Clock](#clock)
  - [Date](#date)
  - [Battery](#battery)
  - [System Monitoring](#sysmon)
    - [CPU](#cpu)
    - [Memory](#mem)
    - [Network](#net)
  - [Lock Keys](#keys)
  - [Hotspot](#hotspot)

## Usage

```
> waycentral [-h/--help] [OPTIONS]

Centralized Program for Waybar Modules

HELP:
  -h, --help    Show this help message
  -v, --version Show version
  Defaults are MY prefercences (shown with a *).

OPTIONS:
  -c, --clock [24H, 12AP, 12H*]
                Print Waybar JSON for clock.
                24H -> 24 Hour clock;
                12AP -> 12 Hour clock with AM/PM;
                12H -> 12 Hour clock without AM/PM.
  -d, --date [DMY, MDY, YMD*] [M*, S]
                Print Waybar JSON for date.
                DMY -> Day/Month/Year;
                MDY -> Month/Day/Year;
                YMD -> Year/Month/Day.
                M -> Monday First in Calendar Tooltip;
                S -> Sunday Fist in Calendar Tooltip.
  -b, --battery Print Waybar JSON for battery.
  -s, --sysmon [CPU, MEM, NET]
                Print Waybar JSON for system
                monitoring.
                CPU -> CPU Utilization;
                MEM -> RAM Usage;
                NET -> Network Usage.
  -k, --keys [CAPS, NUM, SCROLL]
                Print Waybar JSON class for each
                lock key.
                CAPS -> Caps Lock
                NUM -> Num Lock
                SCROLL -> Scroll Lock
  -a, --hotspot Print Waybar JSON for hotspot using
                "create_ap". (ex. linux-wifi-hotspot)
```

## Installation

### AUR

This package is on the Arch User Repository.

Install either [waycentral-git](https://aur.archlinux.org/packages/waycentral-git) or [waycentral-bin](https://aur.archlinux.org/packages/waycentral-bin).

### Release

Download and extract the `.tar.gz` from the [latest release](https://github.com/TheElevatedOne/waycentral/releases/latest).
Place `waycentral` binary somewhere on `$PATH`.

### Building

**Requirements:**

- gcc
- glibc
- make

1. Clone the repository

- ```
  git clone https://github.com/TheElevatedOne/waycentral.git
  cd waycentral
  ```

2. Build the binaries

- ```
  make release
  sudo make install # to /usr/bin; or make install to ~/.local/bin

  # Uninstalling
  # sudo make uninstall  or  make uninstall
  ```

## Options

### Clock

- Shows clock, Uptime and Time Since Root Birth / System Install

- 24H:
  - Prints a clock JSON in 24 hour / military time format
  - `{"text":"23:10:18","tooltip":"Uptime:\t1 day/s 04:33:15\nBirth:\t99 day/s"}`
- 12AP:
  - Prints a clock JSON in 12 hour format with AM/PM
  - `{"text":"11:12:24 PM","tooltip":"Uptime:\t1 day/s 04:35:20\nBirth:\t99 day/s"}`
- 12H:
  - Prints a clock JSON in 12 hour format without AM/PM
  - `{"text":"11:13:23","tooltip":"Uptime:\t1 day/s 04:36:19\nBirth:\t99 day/s"}`
  - This one is the default, as I use it as main

**Example Module:**

```json
"custom/clock": {
  "format": "{text}",
  "restart-interval": 1,
  "exec": "waycentral -c",
  "return-type": "json"
}
```

### Date

- Shows the date and calendar similar to the `cal` command

- DMY:
  - Sets the date to Day/Month/Year format
- MDY:
  - Sets the date to Month/Day/Year format
- YMD:
  - Sets the date to Year/Month/Date format

- M:
  - Sets the calendar start day to Monday
- S:
  - Sets the calendar start day to Sunday

**Example Module:**

```json
"custom/date": {
  "format": "{text}",
  "restart-interval": 1,
  "exec": "waycentral -d",
  "return-type": "json"
}
```

**Default Result:**

```json
    {
    "text": "25/11/12",
    "tooltip": "    <span font_weight='bold'>November 2025</span>\n\nMo Tu We Th Fr Sa Su\n               <span font_weight='ultralight'>01</span> <span font_weight='ultralight'>02</span>\n<span font_weight='ultralight'>03</span> <span font_weight='ultralight'>04</span> <span font_weight='ultralight'>05</span> <span font_weight='ultralight'>06</span> <span font_weight='ultralight'>07</span> <span font_weight='ultralight'>08</span> <span font_weight='ultralight'>09</span>\n<span font_weight='ultralight'>10</span> <span font_weight='ultralight'>11</span> <span font_weight='bold'>12</span> <span font_weight='ultralight'>13</span> <span font_weight='ultralight'>14</span> <span font_weight='ultralight'>15</span> <span font_weight='ultralight'>16</span>\n<span font_weight='ultralight'>17</span> <span font_weight='ultralight'>18</span> <span font_weight='ultralight'>19</span> <span font_weight='ultralight'>20</span> <span font_weight='ultralight'>21</span> <span font_weight='ultralight'>22</span> <span font_weight='ultralight'>23</span>\n<span font_weight='ultralight'>24</span> <span font_weight='ultralight'>25</span> <span font_weight='ultralight'>26</span> <span font_weight='ultralight'>27</span> <span font_weight='ultralight'>28</span> <span font_weight='ultralight'>29</span> <span font_weight='ultralight'>30</span>"
    }
```

### Battery

Shows battery information, stats, health, etc.

Requires NerdFonts to be used as the text has an icon in it.

**Result:**

```json
{"text":"80% 󰂁","tooltip":"<b>BAT1:</b>\tA32-K55\nManufact:\tASUS \nTech:\tLi-ion\nStatus:\tNot charging\nCharge:\t80%\nHealth:\t100%\nVoltage:\t11.9 V\nCurrent:\t0.0 A\nCharging:\t0.0 W"}
```

**Example Module:**

```json
"custom/battery": {
  "format": "{text}",
  "restart-interval": 1,
  "exec": "waycentral -b",
  "return-type": "json"
}
```

### Sysmon

#### CPU

Prints CPU Utilization averaged and per-core in tooltip. Dynamic, changes per core count.

**Example Module:**

```json
"custom/cpu-monitor": {
  "format": "{text}  ",
  "restart-interval": 1,
  "exec": "waycentral -s CPU",
  "return-type": "json"
}
```

**Result:**

```json
{"text":"4%","tooltip":"CPU0: 5%\nCPU1: 3%\nCPU2: 2%\nCPU3: 3%\nCPU4: 4%\nCPU5: 6%\nCPU6: 3%\nCPU7: 4%"}
```

#### MEM

Prints Memory Utilization and breaks it down in tooltip, also shows Swap.

**Example Module:**

```json
"custom/mem-monitor": {
  "format": "{text}  ",
  "restart-interval": 1,
  "exec": "waycentral -s MEM",
  "return-type": "json"
}
```

**Result:**

```json
{"text":"18%","tooltip":"Total RAM: 39.0 GiB\nUsed RAM: 7.1 GiB (18.2%)\nFree RAM: 14.8 GiB (37.9%)\nAvailable RAM: 32.0 GiB (81.9%)\nBuffered RAM: 466.1 MiB (1.2%)\nCached RAM: 16.7 GiB (42.7%)\nShared RAM: 466.1 MiB (1.2%)\n\nTotal Swap: 8.0 GiB\nUsed Swap 0.0 kiB (0.0%)\nFree Swap: 8.0 GiB (100.0%)"}
```

#### NET

Prints Current Internet Speed/Usage (Sum of Upload and Download). In tooltip shows separate values and total upload/download since system startup.

**Example Module:**

```json
"custom/net-monitor": {
  "format": "{text} 󰛳 ",
  "restart-interval": 1,
  "exec": "waycentral -s NET",
  "return-type": "json"
}
```

**Result:**

```json
{"text":"2 kiB/s","tooltip":" 2 kiB/s [9.33 GiB]\n 66 B/s [8.22 GiB]"}
```

### Keys

Prints a class of either "on" or "off". Useful with CSS.

**Results:**

Either

```json
{"class":"on"}
```

or

```json
{"class":"off"}
```

**Example Modules:**

For Capslock:

```json
"custom/capslock": {
  "format": "A",
  "exec": "waycentral -k CAPS",
  "restart-interval": 1,
  "return-type": "json"
}
```

For Numlock:

```json
"custom/numlock": {
  "format": "9",
  "exec": "waycentral -k NUM",
  "restart-interval": 1,
  "return-type": "json"
}
```

**Example CSS:**

Makes the font thinner when off.

```css
#custom-numlock {
  font-weight: 500;
}
#custom-numlock.off {
  font-weight: 100;
}
```

### Hotspot

Prints a JSON with class, alt (for icons) and hotspot details.

Use with `create_ap`/based tool (ex. [linux-wifi-hotspot](https://github.com/lakinduakash/linux-wifi-hotspot)).

**Results:**

```json
{"class":"off","alt":"off","tooltip":"Hotspot Inactive"}
```

```json
{"class":"on","alt":"on","tooltip":"<b>SSID:</b>\thotspot\n<b>PASS:</b>\t123456\n\n<b>FREQ:</b>\t2.4 GHz\na<b>AP_IFACE:</b>\twlo1\n<b>NET_IFACE:</b>\tenp3s0\n<b>HIDDEN:</b>\tNo"}
```

**Example Module:**

```json
"custom/hotspot": {
  "format": "{icon}",
  "format-icons": {
    "on": "󰀂 ",
    "off": "󰯡 "
  },
  "restart-interval": 1,
  "exec": "waycentral -a",
  "return-type": "json"
}
```
